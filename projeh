local HENG = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local MainWindow = HENG:CreateWindow({
	Name = "Combat Arena by.2BK2",
	LoadingTitle = "welcome TO 2BK2",
	LoadingSubtitle = "BK",
	ConfigurationSaving = {
	   Enabled = false,
	   FolderName = nil, -- Create a custom folder for your hub/game
	   FileName = "BK Hub"
	},
	Discord = {
	   Enabled = false,
	   Invite = "", -- The Discord invite code, do not include discord.gg/. E.g. discord.gg/ABCD would be ABCD.
	   RememberJoins = true -- Set this to false to make them join the discord every time they load it up
	},
	KeySystem = true, -- Set this to true to use our key system
	KeySettings = {
	   Title = "BK Hub",
	   Subtitle = "Key System",
	   Note = "Key = ២០០០៛ អាចប្រើនបានច្រើនអ្នក",
	   FileName = "SiriusKey",
	   SaveKey = true,
	   GrabKeyFromSite = true, -- If this is true, set Key below to the RAW site you would like Rayfield to get the key from
	   Key = "2BK_236432"
	}
 })
 local MainTab = MainWindow:CreateTab("បាញ់គ្នារ") -- Title, Imag

-- SERVICES
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")

-- PLAYER
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")

-- ITEMS FOLDER
local folder = workspace:WaitForChild("Items")
local tweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Linear)

-- TOGGLES
local Heng1, Heng2, Heng3, Heng4, Heng5 = false, false, false, false, false

-- FUNCTION: LIST → LOOKUP (FAST)
local function toLookup(list)
	local t = {}
	for _, v in ipairs(list) do
		t[v] = true
	end
	return t
end

local allItems = toLookup({
    "Carrot", "Corn", "Pumpkin", "Berry", "Apple", "Morsel", "Morsel?", "Cooked Morsel", "Steak", "Cooked Steak", "Ribs",
	"Cooked Ribs", "Cake", "Chili", "Stew", "Hearty Stew", "Meat? Sandwich", "Seafood Chowder", "Steak Dinner", "Pumpkin Soup",
	"BBQ Ribs", "Carrot Cake", "Jar o' Jelly", "Candy Apple", "Candy Corn", "Pumpkin Pie", "Cotton Candy", "Turkey Leg", "Cooked Turkey Leg",
	"Stuffing", "Sweet Potato", "Turkey Legs", "Berry Juice", "Casserole", "Corn on the Cob", "Stuffing Bowl", "Roast Turkey", "Stuffed Peppers",
	"Sweet Potato Pie", "Spicy Swordfish", "BBQ Ribs", "Hearty Thanksgiving Meal", "Bandage", "Medkit", "Coin Stack",
    "Old Sack", "Good Sack", "Infernal Sack", "Giant Sack", "Old Axe", "Good Axe", "Ice Axe", "Strong Axe", "Chainsaw",
	"Old Rod", "Good Rod", "Strong Rod", "Old Taming Flut", "Good Taming Flute", "Strong Taming Flute", "Old Flashlight",
	"Strong Flashlight", "Axe Trim Kit", "Armor Trim Kit", "Chili Seeds", "Flower Seeds", "Berry Seeds", "Firefly Seeds",
	"Dripleaf Seeds", "Moonflower Seeds", "Stareweed Seeds", "Cavevine Seeds", "Mandrake Seeds", "Red Key", "Blue Key",
	"Yellow Key", "Grey Key", "Frog Key","Spear", "Morningstar", "Katana", "Laser Sword", "Ice Sword", "Trident", "Poison Spear",
	"Infernal Sword", "Cultist King Mace", "Obsidiron Hammer", "Scythe", "Vampire Scythe",
	"Revolver", "Rifle", "Tactical Shotgun", "Snowball", "Frozen Shuriken", "Kunai",
	"Ray Gun", "Laser Cannon", "Flamethrower", "Blowpipe", "Crossbow", "Wildfire", "Infernal Crossbow",
	"Witch Potion", "Bouncing Blade", "Air Rifle", "Revolver Ammo", "Rifle Ammo", "Shotgun Ammo", "Leather Body",
	"Poison Armor", "Iron Body", "Thorn Body", "Riot Shield", "Alien Armor", "Obsidiron Body", "Vampire Cloak",
	"Flamethrower", "Watering Can", "Chef's Station", "Recipe Book", "Katana", "Front of Support Notes", "Back of Support Notes",
	"Cultist Staff", "Witch Potion", "Crafting Blueprint", "Defense Blueprint", "Furniture Blueprint", "Obsidiron Chest Blueprint",
	"Halloween Blueprint", "Hammer", "Paint Brush","Chair", "Biofuel", "Coal", "Purple Fur Tuft", "Fuel Canister", "Oil Barrel",
	"Cultist Corpse", "Crossbow Cultist Corps", "Juggernaut Cultist Corpse", "Cultist King Corpse",
	"Alien Corpse", "Elite Alien Corpse", "Wolf Corpse", "Alpha Wolf Corpse", "Bear Corpse", "Sapling", "Cultist",
    "Bolt", "Sheet Metal", "UFO Junk", "UFO Component", "Broken Fan",
	"Old Radio", "Broken Microwave", "Tyre", "Metal Chair", "Old Car Engine",
	"Washing Machine", "UFO Scrap", "Cultist Gem", "Forest Gem", "Forest Gem Fragment",
	"Mossy Coin", "Meshes/log_Cylinder", "Chair"


})

-- ITEM GROUPS
local FoodItems = toLookup({
    "Carrot", "Corn", "Pumpkin", "Berry", "Apple", "Morsel", "Morsel?", "Cooked Morsel", "Steak", "Cooked Steak", "Ribs",
	"Cooked Ribs", "Cake", "Chili", "Stew", "Hearty Stew", "Meat? Sandwich", "Seafood Chowder", "Steak Dinner", "Pumpkin Soup",
	"BBQ Ribs", "Carrot Cake", "Jar o' Jelly", "Candy Apple", "Candy Corn", "Pumpkin Pie", "Cotton Candy", "Turkey Leg", "Cooked Turkey Leg",
	"Stuffing", "Sweet Potato", "Turkey Legs", "Berry Juice", "Casserole", "Corn on the Cob", "Stuffing Bowl", "Roast Turkey", "Stuffed Peppers",
	"Sweet Potato Pie", "Spicy Swordfish", "BBQ Ribs", "Hearty Thanksgiving Meal", "Bandage", "Medkit", "Coin Stack"
})

local ItemItems = toLookup({
    "Old Sack", "Good Sack", "Infernal Sack", "Giant Sack", "Old Axe", "Good Axe", "Ice Axe", "Strong Axe", "Chainsaw",
	"Old Rod", "Good Rod", "Strong Rod", "Old Taming Flut", "Good Taming Flute", "Strong Taming Flute", "Old Flashlight",
	"Strong Flashlight", "Axe Trim Kit", "Armor Trim Kit", "Chili Seeds", "Flower Seeds", "Berry Seeds", "Firefly Seeds",
	"Dripleaf Seeds", "Moonflower Seeds", "Stareweed Seeds", "Cavevine Seeds", "Mandrake Seeds", "Red Key", "Blue Key",
	"Yellow Key", "Grey Key", "Frog Key"
})

local WeaponItems = toLookup({
    "Spear", "Morningstar", "Katana", "Laser Sword", "Ice Sword", "Trident", "Poison Spear",
	"Infernal Sword", "Cultist King Mace", "Obsidiron Hammer", "Scythe", "Vampire Scythe",
	"Revolver", "Rifle", "Tactical Shotgun", "Snowball", "Frozen Shuriken", "Kunai",
	"Ray Gun", "Laser Cannon", "Flamethrower", "Blowpipe", "Crossbow", "Wildfire", "Infernal Crossbow",
	"Witch Potion", "Bouncing Blade", "Air Rifle", "Revolver Ammo", "Rifle Ammo", "Shotgun Ammo", "Leather Body",
	"Poison Armor", "Iron Body", "Thorn Body", "Riot Shield", "Alien Armor", "Obsidiron Body", "Vampire Cloak",
	"Flamethrower", "Watering Can", "Chef's Station", "Recipe Book", "Katana", "Front of Support Notes", "Back of Support Notes",
	"Cultist Staff", "Witch Potion", "Crafting Blueprint", "Defense Blueprint", "Furniture Blueprint", "Obsidiron Chest Blueprint",
	"Halloween Blueprint", "Hammer", "Paint Brush"
})

local FuelItems = toLookup({
    "Chair", "Biofuel", "Coal", "Purple Fur Tuft", "Fuel Canister", "Oil Barrel",
	"Cultist Corpse", "Crossbow Cultist Corps", "Juggernaut Cultist Corpse", "Cultist King Corpse",
	"Alien Corpse", "Elite Alien Corpse", "Wolf Corpse", "Alpha Wolf Corpse", "Bear Corpse", "Sapling", "Cultist"
})

local IronItems = toLookup({
    "Bolt", "Sheet Metal", "UFO Junk", "UFO Component", "Broken Fan",
	"Old Radio", "Broken Microwave", "Tyre", "Metal Chair", "Old Car Engine",
	"Washing Machine", "UFO Scrap", "Cultist Gem", "Forest Gem", "Forest Gem Fragment",
	"Mossy Coin"
})

local WoodItems = toLookup({
	"Meshes/log_Cylinder", "Chair"
})

local ChestItems = toLookup({

    "Halloween Chest1", "Halloween Chest1", "Halloween Chest2", "Halloween Chest3", "Halloween Chest4", "Halloween Chest5", 
    "Halloween Chest6", "Halloween Chest7", "Halloween Chest8", "Halloween Chest9",  "Item Chest",
    "Item Chest1", "Item Chest2", "Item Chest3", "Item Chest4", "Item Chest5", "Item Chest6", "Item Chest7"
})

-- MAGNET FUNCTION
local function magnet(item)
	local cf = hrp.CFrame * CFrame.new(0,0,-2)

	if item:IsA("BasePart") then
		TweenService:Create(item, tweenInfo, {CFrame = cf}):Play()
	elseif item:IsA("Model") and item.PrimaryPart then
		TweenService:Create(item.PrimaryPart, tweenInfo, {CFrame = cf}):Play()
	end
end

-- ✅ ONLY ONE LOOP (THIS IS IMPORTANT)
task.spawn(function()
	while task.wait(1) do
		for _, item in ipairs(folder:GetDescendants()) do
			local name = item.Name

			if Heng1 and FoodItems[name] then
				magnet(item)
			elseif Heng2 and ItemItems[name] then
				magnet(item)
			elseif Heng3 and WeaponItems[name] then
				magnet(item)
			elseif Heng4 and FuelItems[name] then
				magnet(item)
			elseif Heng5 and IronItems[name] then
				magnet(item)
            elseif Heng7 and allItems[name] then
				magnet(item)
            elseif Heng8 and ChestItems[name] then
				magnet(item)
			elseif Heng6 and WoodItems[name] then
				magnet(item)
			end
		end
	end
end)

MainTab:CreateToggle({
	Name = "All item",
	Callback = function(v) Heng7 = v end
})

MainTab:CreateToggle({
	Name = "chest",
	Callback = function(v) Heng8 = v end
})

MainTab:CreateToggle({
	Name = "Food",
	Callback = function(v) Heng1 = v end
})

MainTab:CreateToggle({
	Name = "Items",
	Callback = function(v) Heng2 = v end
})

MainTab:CreateToggle({
	Name = "Weapons",
	Callback = function(v) Heng3 = v end
})

MainTab:CreateToggle({
	Name = "Fuel",
	Callback = function(v) Heng4 = v end
})

MainTab:CreateToggle({
	Name = "Iron",
	Callback = function(v) Heng5 = v end
})

MainTab:CreateToggle({
	Name = "Wood",
	Callback = function(v) Heng6 = v end
})

 local Slider = MainTab:CreateSlider({
    Name = "បង្កើនល្បឿនរត់",
    Range = {1, 350},
    Increment = 1,
    Suffix = "Speed",
    CurrentValue = 1,
    Flag = "Slider9", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
    Callback = function(Value)
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = (Value)
    end,
 })
